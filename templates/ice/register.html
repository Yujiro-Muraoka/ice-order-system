{% load custom_filters %}
{% load ice_filters %}
{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ãƒ¬ã‚¸æ‹…å½“ - ã‚¢ã‚¤ã‚¹æ³¨æ–‡</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 16px;
      margin: 0;
      background-color: #f9f9f9;
    }
    h1 {
      font-size: 20px;
      margin-bottom: 16px;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 12px;
    }
    .btn, .clip-btn {
      width: 100%;
      padding: 16px;
      font-size: 16px;
    }
    select, button {
      width: 100%;
      padding: 14px;
      font-size: 16px;
      margin-top: 8px;
      border-radius: 8px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
    .btn { width: 32%; }
    .btn.selected, .clip-btn.selected {
      background-color: #007bff; color: white; border: 2px solid #0056b3;
    }
    .btn-grid, .clip-grid {
      display: flex; flex-wrap: wrap; gap: 6px; justify-content: space-between; margin-bottom: 10px;
    }
    .ice-list { margin-top: 20px; padding: 10px; border: 1px dashed #888; font-size: 16px; }
    .logout-bottom { text-align: center; margin-top: 30px; }
    .add-button {
      margin: 10px 0; padding: 16px; font-size: 18px; background-color: #28a745; color: white;
      border: none; border-radius: 8px; width: 100%;
    }
    .clip-section {
      margin-top: 12px;
    }
    .clip-color-row {
      display: flex;
      gap: 12px;
      margin: 8px 0 16px;
      justify-content: center;
    }
    .clip-color-row .btn-grid {
      display: flex;
      gap: 10px;
    }
    .clip-number-grid {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 8px;
      margin-top: 8px;
    }

    .size-button, .add-button, .submit-button {
      background-color: #2196F3;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      padding: 16px;
      font-size: 18px;
      margin-top: 12px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
      cursor: pointer;
      transition: background-color 0.2s ease, transform 0.1s ease;
    }
    .clip-btn {
      padding: 12px 0;
      font-size: 16px;
      border-radius: 10px;
      border: 2px solid #ccc;
      background-color: #f0f0f0;
      color: #333;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .clip-btn:hover {
      background-color: #ddd;
    }
    .size-button:hover, .add-button:hover, .submit-button:hover {
      background-color: #1976D2;
      transform: scale(0.98);
    }
    ul {
      margin-top: 16px;
      padding-left: 20px;
    }
    .button-group {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .clip-btn.selected {
      background-color: #2196F3;
      color: white;
      border-color: #1976D2;
    }
    .clip-btn:not(.selected):hover {
      background-color: #e0e0e0;
    }.number-button {
      padding: 12px 0;
      width: 100%;
      border-radius: 8px;
      font-weight: bold;
      font-size: 16px;
      border: 2px solid #ccc;
      background-color: #f0f0f0;
      transition: all 0.2s ease;
      cursor: pointer;
    }
    .number-button.selected {
      background-color: #2196F3;
      border-color: #1976D2;
      color: white;
    }
    .item-label {
      font-weight: bold;
      color: #333;
    }

    .item-value {
      font-weight: bold;
      color: #444;
    }
    .select-group {
      display: flex;
      flex-direction: row; 
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 8px;
      margin-bottom: 12px;
    }

  .select-btn {
    background-color: #f2f2f2;
    color: #333;
    border: 1px solid #ccc;
    border-radius: 12px;
    padding: 12px;
    font-size: 16px;
    font-weight: bold;
    flex: 1; /* æ¨ªã«ä¸¦ã³å‡ç­‰å¹…ã«ã™ã‚‹ */
    min-width: 0; /* æœ€å°å¹…åˆ¶é™ã‚’è§£é™¤ */
    transition: background-color 0.1s ease, color 0.1s ease, border-color 0.1s ease;
  }


    /* é¸æŠã•ã‚ŒãŸçŠ¶æ…‹ï¼ˆé¸æŠå®Œäº†å¾Œï¼‰ */
    .select-btn.selected {
      background-color: #2196F3;
      color: white;
      border-color: #1976D2;
    }

    .flavor-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);  /* âœ… å¸¸ã«3åˆ—ã«ã™ã‚‹ */
      gap: 10px;
      margin-top: 8px;
      margin-bottom: 16px;
    }
    #helpButton {
      position: fixed;
      top: 10px;
      right: 10px;
      background: #ff9800;
      color: white;
      border: none;
      border-radius: 20px;
      padding: 10px 16px;
      font-weight: bold;
      cursor: pointer;
      z-index: 999;
      width: auto;
      max-width: 200px;
    }
    #helpModal {
      display: none;
      position: fixed;
      top: 20%;
      left: 50%;                      /* æ¨ªåŸºæº–ã‚’ä¸­å¤®ã« */
      transform: translateX(-50%);    /* æ¨ªæ–¹å‘ã«è‡ªåˆ†ã®å¹…ã®åŠåˆ†ã ã‘å·¦ã«ãšã‚‰ã™ */
      width: 80%;
      background: white;
      border: 2px solid #ccc;
      border-radius: 12px;
      padding: 20px;
      z-index: 1000;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }


    #closeHelp {
      margin-top: 10px;
      background: #2196F3;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
    }

    .select-btn:focus,
    .select-btn:active {
      background-color: #2196F3 !important;
      color: white !important;
      border-color: #1976D2 !important;
      outline: none !important;
    }

    .qty-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      width: 40px;
      height: 40px;
      padding: 0;
      line-height: 1;
      border-radius: 8px;
      border: 1px solid #ccc;
      background: #f8f8f8;
      cursor: pointer;
      user-select: none;
    }
    .qty-btn:active {
      background: #e0e0e0;
    }

  </style>
  <script>
  document.addEventListener('DOMContentLoaded', function () {
    const numberButtons = document.querySelectorAll('.number-button');
    let selectedNumber = null;

    numberButtons.forEach(btn => {
      btn.addEventListener('click', function () {
        const isSelected = this.classList.contains('selected');

        // ã™ã¹ã¦ã®é¸æŠã‚’ã‚¯ãƒªã‚¢
        numberButtons.forEach(b => b.classList.remove('selected'));

        if (!isSelected) {
          this.classList.add('selected');
          selectedNumber = this.dataset.number;
          document.querySelector('input[name=\"clip_number\"]').value = selectedNumber;
        } else {
          selectedNumber = null;
          document.querySelector('input[name=\"clip_number\"]').value = '';
        }
      });
    });
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const selectButtons = document.querySelectorAll('.select-btn');
    selectButtons.forEach(btn => {
      btn.addEventListener('mousedown', () => {
        // ã‚°ãƒ«ãƒ¼ãƒ—å˜ä½ã§é¸æŠè§£é™¤
        const group = btn.getAttribute('data-group');
        document.querySelectorAll(`.select-btn[data-group="${group}"]`)
                .forEach(b => b.classList.remove('selected'));

        btn.classList.add('selected');
      });
    });
  });
</script>

<script>
  document.querySelectorAll('form').forEach(form => {
    form.addEventListener('submit', () => {
      sessionStorage.setItem('scrollPos', window.scrollY);
    });
  });
</script>
<script>
  window.addEventListener('load', () => {
    const pos = sessionStorage.getItem('scrollPos');
    if (pos !== null) {
      setTimeout(() => {
        window.scrollTo({ top: parseInt(pos), behavior: 'auto' });
        sessionStorage.removeItem('scrollPos');
      }, 100);
    }
  });
</script>
  <script>
    let selected = {};
    function selectOption(group, value, button) {
      selected[group] = value;
      document.querySelectorAll(`[data-group="${group}"]`).forEach(btn => btn.classList.remove('selected'));
      button.classList.add('selected');
      if (group === 'size') toggleFlavor2();
    }
    function toggleFlavor2() {
      const flavor2Btns = document.querySelectorAll('[data-group="flavor2"]');
      if (selected['size'] === 'S') {
        selected['flavor2'] = null;
        flavor2Btns.forEach(btn => { btn.disabled = true; btn.classList.remove('selected'); });
      } else {
        flavor2Btns.forEach(btn => btn.disabled = false);
      }
    }
    function selectClipColor(color, button) {
      document.querySelectorAll('[data-clip]').forEach(btn => btn.classList.remove('selected'));
      button.classList.add('selected');
      document.getElementById('clip_color_input').value = color;
    }
    function selectClipNumber(number, button) {
      document.querySelectorAll('.clip-number-grid .clip-btn').forEach(btn => btn.classList.remove('selected'));
      const input = document.getElementById('clip_number_input');
      if (button.classList.contains('selected')) {
        button.classList.remove('selected');
        input.value = '';
      } else {
        button.classList.add('selected');
        input.value = number;
      }
    }
    function validateClipSelection() {
      const color = document.getElementById('clip_color_input').value;
      const number = document.getElementById('clip_number_input').value;
      if (!color || !number) {
        alert("ã‚ªãƒ¼ãƒ€ãƒ¼è¡¨ã®è‰²ã¨ç•ªå·ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚");
        return false;
      }
      return true;
    }
    async function addIce() {
      if (!selected.size || !selected.container || !selected.flavor1) {
        alert("ã‚µã‚¤ã‚ºãƒ»å®¹å™¨ãƒ»ã‚¢ã‚¤ã‚¹ï¼ˆ1ã¤ç›®ï¼‰ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚");
        return;
      }
      if (selected.size === 'W' && !selected.flavor2) {
        alert("ãƒ€ãƒ–ãƒ«ã‚µã‚¤ã‚ºã®å ´åˆã¯2ã¤ç›®ã®ã‚¢ã‚¤ã‚¹ã‚‚é¸ã‚“ã§ãã ã•ã„ã€‚");
        return;
      }
      const headers = {
        'Content-Type': 'application/x-www-form-urlencoded',
        'X-CSRFToken': '{{ csrf_token }}'
      };
      const params = new URLSearchParams({
        size: selected.size,
        container: selected.container,
        flavor1: selected.flavor1,
        flavor2: selected.flavor2 || ""
      });
      await fetch('/add_temp_ice/', {
        method: 'POST', headers: headers, body: params.toString()
      });
      location.reload();
    }
  </script>

<script>
  function openHelp() {
    document.getElementById('helpModal').style.display = 'block';
    localStorage.setItem('helpVisible', 'true');
  }

  function closeHelp() {
    document.getElementById('helpModal').style.display = 'none';
    localStorage.setItem('helpVisible', 'false');
  }

  window.onload = function() {
    if (localStorage.getItem('helpVisible') === 'true') {
      document.getElementById('helpModal').style.display = 'block';
    }
  }
</script>


</head>
<body>
  <h1>ğŸ¦ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ æ³¨æ–‡å…¥åŠ›ğŸ¦</h1>



   ğŸ® ã‚¢ãƒ•ã‚©ã‚¬ãƒ¼ãƒ‰ãƒ—ãƒªãƒ³ã®å€‹æ•°é¸æŠï¼ˆæ–°UIï¼‰
<label for="pudding-quantity" style="display:block; margin-top: 16px; font-weight: bold;">ãƒ—ãƒªãƒ³ã®å€‹æ•°:</label>
<div class="quantity-selector" style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
  <button type="button" class="qty-btn" onclick="changeQty(-1, 'pudding-quantity', 'pudding-quantity-value')" style="font-size: 22px; width: 40px; height: 40px;">âˆ’</button>
  <span id="pudding-quantity-value" style="font-size: 20px; min-width: 24px; text-align: center;">1</span>å€‹
  <button type="button" class="qty-btn" onclick="changeQty(1, 'pudding-quantity', 'pudding-quantity-value')" style="font-size: 22px; width: 40px; height: 40px;">ï¼‹</button>
  <input type="hidden" id="pudding-quantity" value="1">
</div>


  <p style="font-weight: bold; color: #6B4226; font-size: 16px; margin-bottom: 10px;">ğŸ® ã‚¢ãƒ•ã‚©ã‚¬ãƒ¼ãƒ‰ãƒ—ãƒªãƒ³å°‚ç”¨ã®è¿½åŠ ã¯ã“ã¡ã‚‰</p>
  <button onclick="addPudding()" style="
    background-color: #6B4226;
    color: white;
    padding: 16px;
    font-size: 18px;
    border: none;
    border-radius: 10px;
    width: 100%;
    font-weight: bold;
    box-shadow: 0 2px 4px rgba(0,0,0,0.15);
  ">ğŸ® ã‚¢ãƒ•ã‚©ã‚¬ãƒ¼ãƒ‰ãƒ—ãƒªãƒ³ã‚’è¿½åŠ </button>
</div>


<hr style="margin-top: 24px; margin-bottom: 24px;">
<button id="helpButton" onclick="openHelp()">â“ ãƒ˜ãƒ«ãƒ—</button>
<div id="helpModal">
  <h3>ğŸ§¾ æ“ä½œã‚¬ã‚¤ãƒ‰</h3>
  <ul>
    <li>ğŸ¦ã€Œã‚µã‚¤ã‚ºã€ã€Œå®¹å™¨ã€ã€Œã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ ï¼ˆ1ã¤ç›®ï¼‰ã€ã‚’é¸æŠã—ã¦ãã ã•ã„</li>
    <li>ğŸ¨ ãƒ€ãƒ–ãƒ«ã®å ´åˆã¯ã€Œã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ ï¼ˆ2ã¤ç›®ï¼‰ã€ã‚‚é¸æŠã—ã¦ãã ã•ã„</li>
    <li>â•ã€Œã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ ã‚’è¿½åŠ ã€ãƒœã‚¿ãƒ³ã§ä»®æ³¨æ–‡ãƒªã‚¹ãƒˆã«è¿½åŠ ã•ã‚Œã¾ã™</li>
    <li>âœ… ã™ã¹ã¦è¿½åŠ ã—ãŸã‚‰ã€Œæ³¨æ–‡ã‚’ç¢ºå®šã€ãƒœã‚¿ãƒ³ã§é€ä¿¡ã—ã¦ãã ã•ã„</li>
    <li>ğŸŸ¡âšªï¸ ã‚¯ãƒªãƒƒãƒ—ç•ªå·ã¨è‰²ã‚‚å¿…ãšé¸æŠã—ã¦ãã ã•ã„</li>
  </ul>
  <button id="closeHelp" onclick="closeHelp()">é–‰ã˜ã‚‹</button>
</div>



<!-- ğŸ¨ ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ ã®å€‹æ•°é¸æŠï¼ˆæ–°UIï¼‰ -->
<label for="ice-quantity" style="display:block; margin-top: 20px; font-weight: bold;">ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ ã®å€‹æ•°:(ä¸€ç¨®é¡ãšã¤ğŸ™‡)</label>
<div class="quantity-selector" style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
  <button type="button" class="qty-btn" onclick="changeQty(-1, 'ice-quantity', 'quantity-value')" style="font-size: 22px; width: 40px; height: 40px;">âˆ’</button>
  <span id="quantity-value" style="font-size: 20px; min-width: 24px; text-align: center;">1</span>å€‹
  <button type="button" class="qty-btn" onclick="changeQty(1, 'ice-quantity', 'quantity-value')" style="font-size: 22px; width: 40px; height: 40px;">ï¼‹</button>
  <input type="hidden" id="ice-quantity" value="1">
</div>

<button onclick="addIce()" class="add-button" style="margin-bottom: 16px;">ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ ã‚’è¿½åŠ </button>


  <form onsubmit="event.preventDefault(); addIce();">
    <label>ã‚µã‚¤ã‚º:</label>
    <div class="select-group">
<button type="button" class="select-btn" data-group="size" onclick="selectOption('size', 'S', this)">
  ã‚·ãƒ³ã‚°ãƒ« (S)
</button>
<button type="button" class="select-btn" data-group="size" onclick="selectOption('size', 'W', this)">
  ãƒ€ãƒ–ãƒ« (W)
</button>
    </div>

<script>
async function addIce() {
  const quantity = parseInt(document.getElementById('ice-quantity').value);
  if (!selected.size || !selected.container || !selected.flavor1) {
    alert('ã‚µã‚¤ã‚ºãƒ»å®¹å™¨ãƒ»ã‚¢ã‚¤ã‚¹ï¼ˆ1ã¤ç›®ï¼‰ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚');
    return;
  }
  if (selected.size === 'W' && !selected.flavor2) {
    alert('ãƒ€ãƒ–ãƒ«ã‚µã‚¤ã‚ºã®å ´åˆã¯2ã¤ç›®ã®ã‚¢ã‚¤ã‚¹ã‚‚é¸ã‚“ã§ãã ã•ã„ã€‚');
    return;
  }
  let hasError = false;
  for (let i = 0; i < quantity; i++) {
    const res = await fetch('/add_temp_ice/', {
      method: 'POST',
      headers: {
        'X-CSRFToken': '{{ csrf_token }}',
        'Content-Type': 'application/x-www-form-urlencoded'
      },
      body: new URLSearchParams({
        size: selected.size,
        container: selected.container,
        flavor1: selected.flavor1,
        flavor2: selected.flavor2 || ''
      })
    });
    if (!res.ok) {
      hasError = true;
      const data = await res.json().catch(() => ({}));
      alert('ä»®æ³¨æ–‡ã®è¿½åŠ ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + (data.message || res.status));
      break;
    }
  }
  if (!hasError) {
    location.reload();
  }
}
</script>

<script>
function changeQty(delta, inputId, displayId) {
  const min = 1, max = 5;
  let val = parseInt(document.getElementById(inputId).value);
  val = Math.max(min, Math.min(max, val + delta));
  document.getElementById(inputId).value = val;
  document.getElementById(displayId).textContent = val;
}
</script>

<script>
async function addPudding() {
  const quantity = parseInt(document.getElementById('pudding-quantity').value);
  const btn = event.target;
  btn.disabled = true;
  btn.textContent = "ğŸ® è¿½åŠ ä¸­...";

  for (let i = 0; i < quantity; i++) {
    const res = await fetch('/add_temp_pudding/', {
      method: 'POST',
      headers: {
        'X-CSRFToken': '{{ csrf_token }}',
        'Content-Type': 'application/x-www-form-urlencoded'
      }
    });

    if (!res.ok) {
      btn.textContent = "âš ï¸ è¿½åŠ å¤±æ•—";
      btn.style.backgroundColor = "#f44336";
      setTimeout(() => {
        btn.disabled = false;
        btn.textContent = "ğŸ® ã‚¢ãƒ•ã‚©ã‚¬ãƒ¼ãƒ‰ãƒ—ãƒªãƒ³ã‚’è¿½åŠ ";
        btn.style.backgroundColor = "#6B4226";
      }, 1500);
      return;
    }
  }

  btn.textContent = "ğŸ® è¿½åŠ å®Œäº†ï¼";
  btn.style.backgroundColor = "#4CAF50";
  setTimeout(() => location.reload(), 800);
}

</script>

    <label>å®¹å™¨:</label>
<div class="select-group">
<button type="button" class="select-btn" data-group="container" onclick="selectOption('container', 'cup', this)">ã‚«ãƒƒãƒ—</button>
<button type="button" class="select-btn" data-group="container" onclick="selectOption('container', 'cone', this)">ã‚³ãƒ¼ãƒ³</button>
</div>

<label>ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ :</label>
<div class="flavor-grid">
  {% for flavor in flavors %}
    <button type="button" class="select-btn" data-group="flavor1" onclick="selectOption('flavor1', '{{ flavor }}', this)">{{ flavor }}</button>
  {% endfor %}
</div>
<label>ã‚¢ã‚¤ã‚¹ï¼ˆ2ã¤ç›®ï¼‰â€»Wã®ã¿:</label>
<div class="flavor-grid">
  {% for flavor in flavors %}
    <button type="button" class="select-btn" data-group="flavor2" onclick="selectOption('flavor2', '{{ flavor }}', this)">{{ flavor }}</button>
  {% endfor %}
</div>

    <br>
    <button type="submit" class="add-button">ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ ã‚’è¿½åŠ </button>
  </form>

  {% if temp_ice %}
  <form method="post" action="/submit_order_group/" onsubmit="return validateClipSelection();">
    {% csrf_token %}


    <div class="ice-list">
      <h3>ç¾åœ¨ã®ä»®ã‚ªãƒ¼ãƒ€ãƒ¼å†…å®¹</h3>
<ul>
{% if pudding_count > 0 %}
  <li style="margin-bottom: 6px;">
    <strong class="item-label" style="color: #a52a2a;">
      ğŸ® ã‚¢ãƒ•ã‚©ã‚¬ãƒ¼ãƒ‰ãƒ—ãƒªãƒ³ Ã— {{ pudding_count }}å€‹
    </strong>
    <a href="/delete_all_pudding/" style="color: red; margin-left: 8px;">[ã™ã¹ã¦å‰Šé™¤]</a>
  </li>
{% endif %}


  {% for ice in temp_ice %}
    {% if not ice.is_pudding %}
      <li style="margin-bottom: 6px;">

        <div>
          <strong class="item-label">ã‚µã‚¤ã‚º:</strong>
          <span class="item-value">{{ ice.size }}</span> ï¼
          <strong class="item-label">å®¹å™¨:</strong>
          <span class="item-value">{{ container_map|get_item:ice.container }}</span>
        </div>
        <div>
          <strong class="item-label">ã‚¢ã‚¤ã‚¹:</strong>
          <span class="item-value">
            {{ ice.flavor1 }}{% if ice.flavor2 %} ï¼‹ {{ ice.flavor2 }}{% endif %}
          </span>
          <a href="/delete_temp_ice/{{ forloop.counter0 }}/" style="color: red; margin-left: 8px;">[å‰Šé™¤]</a>
        </div>
      </li>
    {% endif %}
  {% endfor %}
</ul>


<!-- å‚™è€ƒæ¬„è¿½åŠ  -->
<label for="note">å‚™è€ƒï¼š</label>
<textarea id="note" name="note" rows="4"
  style="box-sizing: border-box; width: 100%; max-width: 100%; font-size: 16px; padding: 10px; border-radius: 8px;"
  placeholder="ä¾‹ï¼šã‚¢ãƒ•ã‚©ã®ã‚¨ã‚¹ãƒ—ãƒ¬ãƒƒã‚½ãªã—ã€ãƒ•ãƒ¼ãƒ‰æ³¨æ–‡å¤§é‡ç­‰"></textarea>


    </div>
  <h3>ã‚ªãƒ¼ãƒ€ãƒ¼è¡¨ ã‚¯ãƒªãƒƒãƒ—æƒ…å ±</h3>
  <strong>è‰²:</strong>
  <div class="clip-color-row">
    <button type="button" class="clip-btn" data-clip="yellow" onclick="selectClipColor('yellow', this)">ğŸŸ¡ é»„è‰²</button>
    <button type="button" class="clip-btn" data-clip="white" onclick="selectClipColor('white', this)">âšªï¸ ç™½è‰²</button>
  </div>
    </div>
    <br>
    <strong>ç•ªå·:</strong><br>
<!-- 1ã€œ8 -->
<div class="clip-number-grid">
  {% for i in 1|to:9 %}
    <button type="button" class="clip-btn" onclick="selectClipNumber({{ i }}, this)">{{ i }}</button>
  {% endfor %}
</div>

<!-- 9ã€œ16 -->
<div class="clip-number-grid">
  {% for i in 9|to:17 %}
    <button type="button" class="clip-btn" onclick="selectClipNumber({{ i }}, this)">{{ i }}</button>
  {% endfor %}
</div>

  </div>
  <input type="hidden" name="clip_color" id="clip_color_input" required>
  <input type="hidden" name="clip_number" id="clip_number_input" required>
  <button type="submit" class="add-button">ã‚ªãƒ¼ãƒ€ãƒ¼ã‚’é€ä¿¡</button>

  </form>
  {% else %}
    <p>ã¾ã ä½•ã‚‚è¿½åŠ ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</p>
  {% endif %}

  <hr>
  <a href="/">â† å½¹å‰²é¸æŠã¸æˆ»ã‚‹</a>
  <div class="logout-bottom">
    <a href="/logout/" style="font-weight: bold; color: #5a00a3;">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
  </div>
</body>
</html>
